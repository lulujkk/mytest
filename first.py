import streamlit as st
import pandas as pd
import numpy as np

# åŸºç¡€é¡µé¢é…ç½®ï¼ˆå…¼å®¹æ‰€æœ‰Streamlitç‰ˆæœ¬ï¼Œç§»é™¤æ˜“å‡ºé”™çš„è‡ªå®šä¹‰themeï¼‰
st.set_page_config(
    page_title="å—å®ç¾é£Ÿæ•°æ®ä»ªè¡¨ç›˜",
    layout="wide"  # ä»…ä¿ç•™å®½å¸ƒå±€ï¼Œé¿å…themeå‚æ•°çš„å…¼å®¹æ€§é—®é¢˜
)

# ---------------------- æ„é€ æ¨¡æ‹Ÿæ•°æ®ï¼ˆç¡®ä¿æ ¼å¼æ— é”™ï¼‰ ----------------------
# 1. å—å®ç¾é£Ÿé¤å…ä¿¡æ¯ï¼ˆ6å®¶ï¼Œæ»¡è¶³â‰¥5å®¶è¦æ±‚ï¼‰
restaurants = pd.DataFrame({
    "é¤å…åç§°": [
        "å¤è®°è€å‹ç²‰(ä¸­å±±è·¯åº—)",
        "èˆ’è®°è€å‹ç²‰(ä¸ƒæ˜Ÿè·¯åº—)",
        "æ¡‚å°å¨(ä¸‡è±¡åŸåº—)",
        "ä¸‰å“ç‹(æœé˜³åº—)",
        "ç²‰ä¹‹éƒ½(æ°‘æ—å¤§é“åº—)",
        "å—å®è‚¥ä»”é¥­åº—(æ˜ç§€åº—)"
    ],
    "åœ°å€": [
        "å—å®å¸‚ä¸­å±±è·¯228å·",
        "å—å®å¸‚ä¸ƒæ˜Ÿè·¯123å·",
        "å—å®å¸‚é’ç§€åŒºæ°‘æ—å¤§é“136å·ä¸‡è±¡åŸ",
        "å—å®å¸‚å…´å®åŒºæœé˜³è·¯45å·",
        "å—å®å¸‚é’ç§€åŒºæ°‘æ—å¤§é“92å·",
        "å—å®å¸‚è¥¿ä¹¡å¡˜åŒºæ˜ç§€è¥¿è·¯100å·"
    ],
    "çº¬åº¦": [22.815, 22.820, 22.800, 22.820, 22.810, 22.830],
    "ç»åº¦": [108.325, 108.330, 108.350, 108.340, 108.360, 108.310],
    "è¯„åˆ†": [4.7, 4.6, 4.8, 4.5, 4.4, 4.6],
    "äººå‡ä»·æ ¼": [15, 14, 60, 18, 12, 50]
})

# 2. ç”¨é¤é«˜å³°æ—¶æ®µï¼ˆArea Chartæ•°æ®ï¼‰
peak_hours = pd.DataFrame({
    "æ—¶æ®µ": list(range(24)),
    "å®¢æµé‡": [5, 3, 2, 1, 2, 8, 25, 30, 20, 15, 12, 18, 40, 45, 35, 25, 20, 30, 40, 35, 25, 15, 10, 6]
})

# 3. ä¸åŒç±»å‹é¤å…ä»·æ ¼ï¼ˆLine Chartæ•°æ®ï¼‰
type_prices = pd.DataFrame({
    "é¤å…ç±»å‹": ["è€å‹ç²‰", "èºè›³ç²‰", "å¹¿è¥¿èœ", "å¿«é¤", "ç‰¹è‰²å°åƒ"],
    "äººå‡ä»·æ ¼": [15, 13, 58, 19, 11]
})

# 4. 5å®¶é¤å…12ä¸ªæœˆä»·æ ¼èµ°åŠ¿ï¼ˆæ–°å¢æ ¸å¿ƒéœ€æ±‚ï¼‰
price_trend = pd.DataFrame({
    "æœˆä»½": [f"{m}æœˆ" for m in range(1, 13)],
    "å¤è®°è€å‹ç²‰": [15, 15, 16, 15, 15, 16, 15, 15, 16, 15, 15, 16],
    "èˆ’è®°è€å‹ç²‰": [14, 14, 14, 15, 14, 14, 15, 14, 14, 15, 14, 14],
    "æ¡‚å°å¨": [60, 62, 61, 63, 62, 64, 63, 62, 64, 63, 62, 65],
    "ä¸‰å“ç‹": [18, 18, 19, 18, 19, 18, 19, 18, 19, 18, 19, 18],
    "ç²‰ä¹‹éƒ½": [12, 12, 13, 12, 12, 13, 12, 12, 13, 12, 12, 13]
})

# ---------------------- é¡µé¢å¸ƒå±€ï¼ˆç®€æ´ç¨³å®šï¼‰ ----------------------
st.title("å—å®ç¾é£Ÿæ•°æ®ä»ªè¡¨ç›˜")

# 1. åº—é“ºåˆ†å¸ƒï¼ˆMapï¼‰- æ ¸å¿ƒå…ƒç´ 
st.subheader("ğŸœ å—å®ç¾é£Ÿåº—é“ºåˆ†å¸ƒ")
st.map(restaurants[["çº¬åº¦", "ç»åº¦"]], zoom=12)  # æŒ‡å®šç¼©æ”¾çº§åˆ«ï¼Œé¿å…é»˜è®¤å€¼å‡ºé”™

# 2. é¤å…è¯„åˆ†ï¼ˆBar Chartï¼‰- æ ¸å¿ƒå…ƒç´ 
st.subheader("â­ é¤å…è¯„åˆ†")
st.bar_chart(restaurants, x="é¤å…åç§°", y="è¯„åˆ†", height=300)

# 3. ä¸åŒç±»å‹é¤å…ä»·æ ¼ï¼ˆLine Chartï¼‰- æ ¸å¿ƒå…ƒç´ 
st.subheader("ğŸ’¸ ä¸åŒç±»å‹é¤å…äººå‡ä»·æ ¼")
st.line_chart(type_prices, x="é¤å…ç±»å‹", y="äººå‡ä»·æ ¼", height=300)

# 4. ç”¨é¤é«˜å³°æ—¶æ®µï¼ˆArea Chartï¼‰- æ ¸å¿ƒå…ƒç´ 
st.subheader("â° ç”¨é¤é«˜å³°æ—¶æ®µï¼ˆ24å°æ—¶å®¢æµé‡ï¼‰")
st.area_chart(peak_hours, x="æ—¶æ®µ", y="å®¢æµé‡", height=300)

# 5. 12ä¸ªæœˆä»·æ ¼èµ°åŠ¿ï¼ˆæ–°å¢æ ¸å¿ƒéœ€æ±‚ï¼‰
st.subheader("ğŸ“ˆ 5å®¶é¤å…12ä¸ªæœˆä»·æ ¼èµ°åŠ¿")
st.line_chart(price_trend, x="æœˆä»½", height=400)  # è‡ªåŠ¨æ¸²æŸ“5æ¡æŠ˜çº¿

# 6. é¤å…è¯¦æƒ…ï¼ˆå±•å¼€é¢æ¿ï¼‰
with st.expander("ğŸ“‹ é¤å…è¯¦ç»†ä¿¡æ¯"):
    st.dataframe(restaurants, use_container_width=True)

# 7. ä»Šæ—¥æ¨èï¼ˆæ›¿æ¢ä¸ºå¯é çš„æœ¬åœ°ç¾é£Ÿå›¾ç‰‡é“¾æ¥ï¼‰
st.subheader("ğŸ± ä»Šæ—¥åˆé¤æ¨è")
st.image(
    "https://img-blog.csdnimg.cn/20240312152216789.jpg",  # ç¨³å®šçš„è€å‹ç²‰å›¾ç‰‡é“¾æ¥
    caption="å¤è®°è€å‹ç²‰ - å—å®ç»å…¸é…¸è¾£é²œé¦™å£å‘³",
    use_container_width=True
)
